title: Benchmarks
description: This page shows the results of the Crate benchmarks based on the master branch as of that point in time.

{% extends  "base.html" %}

{% block scripts %}
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dygraph/1.1.1/dygraph-combined-dev.js"></script>
<script type="text/javascript" src="{% static 'js/benchmark.js' %}"></script>
{% endblock %}

{% block body %}
<p>This page shows the results of the Crate benchmarks based on the master
  branch (nightly builds) as of that point in time. The benchmarks are executed
  as <code>cr8</code> benchmarks on Microsoft Azure cloud environment
  <a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-windows-sizes/">Standard_DS12</a>
  instances (4 cores, 2.4GHz Intel Xeon&reg; E5-2673 v3 Haswell machine with 28GB RAM and SSD disk).</p>

<p>The benchmarks are running on a single host machine with 1 Crate instance
  and default settings. <code>CRATE_HEAP_SIZE</code> is set to <code>10GB</code>.
</p>

<div class="cr-nav">
   <div scroll-to-chart="single_ops" class="cr-nav-item">SINGLE OPS</div>
   <div scroll-to-chart="bulk_ops" class="cr-nav-item">BULK OPS</div>
   <div scroll-to-chart="upsert" class="cr-nav-item">UPSERT</div>
   <div scroll-to-chart="sequence" class="cr-nav-item">SEQUENCE</div>
   <div scroll-to-chart="array" class="cr-nav-item">ARRAY</div>
   <div scroll-to-chart="aggregations" class="cr-nav-item">AGGREGATIONS</div>
   <div scroll-to-chart="joins" class="cr-nav-item">JOINS</div>
   <div scroll-to-chart="partitions" class="cr-nav-item">PARTITIONS</div>
   <div scroll-to-chart="system" class="cr-nav-item">SYSTEM</div>
</div>

<div id="single_ops_tab" class="graph_tab">
  <h2>Single Operation Benchmarks</h2>
  <div id="single_ops" class="chart" data-value-range="[0.8, 1.6]"></div>
  <div id="single_ops_labels" class="cr-legend"></div>
  <p id="single_ops_description" class="description">
    Benchmark for single <code>INSERT</code>, <code>UPDATE</code> and <code>DELETE</code> operations.
    <br /><code>INSERT</code> inserts 8 different data types
    <br /><code>UPDATE</code> updates a string value by primary key integer
    <br /><code>DELETE</code> deletes row by primary key integer
  </p>
</div>
<br /><br />

<div id="bulk_ops_tab" class="graph_tab">
  <h2>Bulk Operation Benchmarks</h2>
  <div id="bulk_ops" class="chart"></div>
  <div id="bulk_ops_labels" class="cr-legend"></div>
  <p id="bulk_ops_descripton" class="description">
    Benchmark for bulk <code>INSERT</code>, <code>UPDATE</code> and <code>DELETE</code> operations.
    <br /><code>INSERT</code> inserts integer/string pairs in bulks of 10000
    <br /><code>UPDATE</code> updates string value by primary key integer in bulks of 1000
    <br /><code>DELETE</code> deletes row by primary key integer in bulks of 1000
  </p>
</div>
<br /><br />

<div id="upsert_tab" class="graph_tab">
  <h2>Upsert Benchmarks</h2>
  <div id="upsert" class="chart" data-value-range="[0, 30]"></div>
  <div id="upsert_labels" class="cr-legend"></div>
  <p id="upsert_descripton" class="description">
    Benchmark for single and bulk <code>UPSERT</code>.
    <br /><code>UPSERT</code> inserts or updates single rows
    <br /><code>UPSERT</code> inserts or updates rows in bulk of 1000
  </p>
</div>
<br /><br />

<div id="sequence_tab" class="graph_tab">
  <h2>Sequence Benchmarks</h2>
  <br /><br />
  <h3>IN Numeric Sequence</h3>
  <div id="in_numeric" class="chart"></div>
  <div id="in_numeric_labels" class="cr-legend"></div>
  <br /><br />
  <h3>IN String Sequence</h3>
  <div id="in_string" class="chart"></div>
  <div id="in_string_labels" class="cr-legend"></div>
  <p id="sequence_description" class="description">
    Benchmark for <code>IN</code> operator.
    <br /><code>IN numeric</code> selects all rows where integer value is present in sequence of 5 integers
    <br /><code>IN string</code> selects all rows where string value is present in sequence of 10 strings
  </p>
</div>
<br /><br />

<div id="array_tab" class="graph_tab">
  <h2>Array Benchmarks</h2>
  <div id="array" class="chart"></div>
  <div id="array_labels" class="cr-legend"></div>
  <p id="array_descripton" class="description">
    Benchmark for array <code>ANY</code> operator.
    <br /><code>ANY</code> selects all rows where integer value is present integer array of length 500
    <br /><code>NOT ANY</code> select all rows where integer value is not present in integer array of lenth 500
  </p>
</div>
<br /><br />

<div id="aggregations_tab" class="graph_tab">
  <h2>Aggregation Benchmarks</h2>
  <div id="aggregations" class="chart"></div>
  <div id="aggregations_labels" class="cr-legend"></div>
  <p id="aggregations_descripton" class="description">
    Benchmarks for <code>GROUP BY</code> aggregations.
    <br/>Aggregations group by string value:
    <br /><code>COUNT</code>, <code>MIN</code>, <code>MAX</code>, <code>AVG</code>, <code>COUNT DISTINCT</code>, <code>ARBITRARY</code>
  </p>
</div>
<br /><br />

<div id="joins_tab" class="graph_tab">
  <h2>JOIN Benchmarks</h2>
  <div id="joins" class="chart"></div>
  <div id="joins_labels" class="cr-legend"></div>
  <p id="joins_descripton" class="description">
    <span style="color:red;">DISABLED</span>
  </p>
</div>
<br /><br />

<div id="partitions_tab" class="graph_tab">
  <h2>Partition Benchmarks</h2>
  <div id="partitions" class="chart"></div>
  <div id="partitions_labels" class="cr-legend"></div>
  <p id="partitions_descripton" class="description" data-log-scale="true">
    Benchmark for partitioned tables.
    <br />Bulk <code>INSERT</code> that creates a new partition for each inserted row
    <br /><code>INSERT</code> bulk of 1000 items into 100 different existing partitions of a table
    <br />
  </p>
</div>
<br /><br />

<div id="system_tab" class="graph_tab">
  <h2>System Table Benchmarks</h2>
  <div id="system" class="chart"></div>
  <div id="system_labels" class="cr-legend"></div>
  <p id="system_descripton" class="description">
    Benchmark for system tables.
    <br /><code>SELECT</code> all rows from <code>sys.shards</code> with 1000 available shards
    <br /><code>SELECT</code> all rows from <code>information_schema.tables</code> with 150 tables
  </p>
</div>
<br /><br />

{% endblock %}
